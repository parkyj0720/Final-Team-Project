<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="MemberSQL">

	<select id="Listall" resultType="MemberDto">
		select *
		from MEMBER_T;
	</select>
	
	<select id="Gender" resultType="GenderDto">

		SELECT 
			COUNT(case when MEM_GENDER='남' then 1 END)AS man,
			COUNT(case when MEM_GENDER='여' then 1 END)AS woman,
			COUNT(case when MEM_GENDER='' then 1 end)AS secret
		FROM MEMBER_T
	
	</select>
	
	
	
	<select id="AgeRange" resultType="AgeRangeDto">

		SELECT 
			COUNT(case when MEM_AGE_GROUP='20대' then 1 END)AS twenty,
			COUNT(case when MEM_AGE_GROUP='30대' then 1 END)AS thirty,
			COUNT(case when MEM_AGE_GROUP='40대' then 1 end)AS forty,
			COUNT(case when MEM_AGE_GROUP='50대 이상' then 1 end)AS fifty,
			COUNT(case when MEM_AGE_GROUP='' then 1 end)AS secret
		FROM MEMBER_T
	
	</select>
	
	
	<update id="GwonhanModify" parameterType="GwonhanDto">
		update MEMBER_T set
		${gwonhan} = ${gwonhancode} where MEM_IDX = ${mem_id};


	</update>



</mapper>